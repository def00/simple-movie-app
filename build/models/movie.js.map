{"version":3,"sources":["../../src/models/movie.js"],"names":["Model","knex","Movie","$relatedQuery","comments","relation","HasManyRelation","modelClass","Comment","join","to","from"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEAA,iBAAMC,IAAN,CAAWA,oBAAX;;IAEMC,K;;;;;;;;;;;;;;;;;;;;;iDAmBK,KAAKC,aAAL,CAAmB,UAAnB,C;;;;;;;;;;;;;;;;;;wBAlBc;AACrB,aAAO,QAAP;AACD;;;wBAE6B;AAC5B,aAAO;AACLC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,QAAQ,EAAEL,iBAAMM,eADR;AAERC,UAAAA,UAAU,EAAEC,mBAFJ;AAGRC,UAAAA,IAAI,EAAE;AACJC,YAAAA,EAAE,EAAE,WADA;AAEJC,YAAAA,IAAI,EAAE;AAFF;AAHE;AADL,OAAP;AAUD;;;;EAhBiBX,gB;;eAuBLE,K","sourcesContent":["import {Model} from 'objection'\nimport knex from '../../config/database'\nimport Comment from './comment'\n\nModel.knex(knex)\n\nclass Movie extends Model {\n  static get tableName() {\n    return 'movies'\n  }\n\n  static get relationMappings() {\n    return {\n      comments: {\n        relation: Model.HasManyRelation,\n        modelClass: Comment,\n        join: {\n          to: 'movies.id',\n          from: 'comments.movie_id'\n        }\n      }\n    }\n  }\n\n  async comments() {\n    return this.$relatedQuery('comments')\n  }\n}\n\nexport default Movie\n"],"file":"movie.js"}