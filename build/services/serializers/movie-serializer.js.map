{"version":3,"sources":["../../../src/services/serializers/movie-serializer.js"],"names":["movie","deep","comments","id","Error","serializer","comment","title","year","genre","country","plot"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;0BACe,iBAAeA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsBC,YAAAA,IAAtB,2DAA6B,IAA7B;;AAAA,kBACTA,IAAI,KAAK,OAAOD,KAAK,CAACE,QAAb,KAA0B,UAA1B,IAAwC,CAACF,KAAK,CAACG,EAApD,CADK;AAAA;AAAA;AAAA;;AAAA,kBAEL,IAAIC,KAAJ,CAAU,iCAAV,CAFK;;AAAA;AAAA,iBAKTH,IALS;AAAA;AAAA;AAAA;;AAAA,0BAMYI,sBANZ;AAAA;AAAA,mBAM6BL,KAAK,CAACE,QAAN,EAN7B;;AAAA;AAAA;;AAAA,0BAM+C,UAACI,OAAD;AAAA,qBAAa,mCAAkBA,OAAlB,EAA2B,KAA3B,CAAb;AAAA,aAN/C;;AAAA;AAAA;;AAAA;AAMLJ,YAAAA,QANK;AAAA,6CAOJ;AACLC,cAAAA,EAAE,EAAEH,KAAK,CAACG,EADL;AAELI,cAAAA,KAAK,EAAEP,KAAK,CAACO,KAFR;AAGLC,cAAAA,IAAI,EAAER,KAAK,CAACQ,IAHP;AAILC,cAAAA,KAAK,EAAET,KAAK,CAACS,KAJR;AAKLC,cAAAA,OAAO,EAAEV,KAAK,CAACU,OALV;AAMLC,cAAAA,IAAI,EAAEX,KAAK,CAACW,IANP;AAOLT,cAAAA,QAAQ,EAAEA,QAAQ,IAAI;AAPjB,aAPI;;AAAA;AAAA,6CAkBN;AACLK,cAAAA,KAAK,EAAEP,KAAK,CAACO,KADR;AAELC,cAAAA,IAAI,EAAER,KAAK,CAACQ;AAFP,aAlBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import commentSerializer from './comment-serializer'\nimport serializer from './serializer'\nexport default async function(movie, deep = true) {\n  if (deep && (typeof movie.comments !== 'function' || !movie.id)) {\n    throw new Error('Wrong input data for serializer')\n  }\n\n  if (deep) {\n    const comments = await serializer(await movie.comments(), (comment) => commentSerializer(comment, false))\n    return {\n      id: movie.id,\n      title: movie.title,\n      year: movie.year,\n      genre: movie.genre,\n      country: movie.country,\n      plot: movie.plot,\n      comments: comments || []\n    }\n  }\n\n  return {\n    title: movie.title,\n    year: movie.year\n  }\n}\n\n"],"file":"movie-serializer.js"}