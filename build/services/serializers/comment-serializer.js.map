{"version":3,"sources":["../../../src/services/serializers/comment-serializer.js"],"names":["comment","deep","movie","id","Error","movieSerializer","author","name"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;0BAEe,iBAAeA,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwBC,YAAAA,IAAxB,2DAA+B,IAA/B;;AAAA,kBACTA,IAAI,KAAK,OAAOD,OAAO,CAACE,KAAf,KAAyB,UAAzB,IAAuC,CAACF,OAAO,CAACG,EAArD,CADK;AAAA;AAAA;AAAA;;AAAA,kBAEL,IAAIC,KAAJ,CAAU,iCAAV,CAFK;;AAAA;AAAA,iBAITH,IAJS;AAAA;AAAA;AAAA;;AAAA,0BAKSI,2BALT;AAAA;AAAA,mBAK+BL,OAAO,CAACE,KAAR,EAL/B;;AAAA;AAAA;AAAA;AAAA,iDAKgD,KALhD;;AAAA;AAKLA,YAAAA,KALK;AAAA,6CAMJ;AACLC,cAAAA,EAAE,EAAEH,OAAO,CAACG,EADP;AAELG,cAAAA,MAAM,EAAEN,OAAO,CAACO,IAFX;AAGLP,cAAAA,OAAO,EAAEA,OAAO,CAACA,OAHZ;AAILE,cAAAA,KAAK,EAAEA,KAAK,IAAI;AAJX,aANI;;AAAA;AAAA,6CAaN;AACLI,cAAAA,MAAM,EAAEN,OAAO,CAACO,IADX;AAELP,cAAAA,OAAO,EAAEA,OAAO,CAACA;AAFZ,aAbM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import movieSerializer from './movie-serializer'\n\nexport default async function(comment, deep = true) {\n  if (deep && (typeof comment.movie !== 'function' || !comment.id)) {\n    throw new Error('Wrong input data for serializer')\n  }\n  if (deep) {\n    const movie = await movieSerializer(await comment.movie(), false)\n    return {\n      id: comment.id,\n      author: comment.name,\n      comment: comment.comment,\n      movie: movie || null\n    }\n  }\n  return {\n    author: comment.name,\n    comment: comment.comment\n  }\n}\n\n"],"file":"comment-serializer.js"}