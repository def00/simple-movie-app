{"version":3,"sources":["../../src/validation/comment.js"],"names":["isEmail","isLength","min","max","isString","isNumeric","custom","id","Movie","query","findById","movie"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;eAEe,CACb,6BAAM,OAAN,EAAeA,OAAf,GAAyBC,QAAzB,CAAkC;AAACC,EAAAA,GAAG,EAAE,CAAN;AAASC,EAAAA,GAAG,EAAE;AAAd,CAAlC,CADa,EAEb,6BAAM,QAAN,EAAgBC,QAAhB,GAA2BH,QAA3B,CAAoC;AAACC,EAAAA,GAAG,EAAE,CAAN;AAASC,EAAAA,GAAG,EAAE;AAAd,CAApC,CAFa,EAGb,6BAAM,SAAN,EAAiBC,QAAjB,GAA4BH,QAA5B,CAAqC;AAACC,EAAAA,GAAG,EAAE;AAAN,CAArC,CAHa,EAIb,6BAAM,UAAN,EAAkBG,SAAlB,EAJa,EAKb,4BAAK,UAAL,EAAiBC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAwB,iBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACjBA,EADiB;AAAA;AAAA;AAAA;;AAAA,kBAEd,4BAFc;;AAAA;AAAA;AAAA,mBAIFC,kBAAMC,KAAN,GAAcC,QAAd,CAAuBH,EAAvB,CAJE;;AAAA;AAIhBI,YAAAA,KAJgB;;AAAA,gBAKjBA,KALiB;AAAA;AAAA;AAAA;;AAAA,kBAMd,uBANc;;AAAA;AAAA,6CAQfA,KARe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA,IALa,C","sourcesContent":["import {body, check} from 'express-validator'\nimport Movie from '../models/movie'\n\nexport default [\n  check('email').isEmail().isLength({min: 1, max: 255}),\n  check('author').isString().isLength({min: 1, max: 255}),\n  check('comment').isString().isLength({min: 1}),\n  check('movie_id').isNumeric(),\n  body('movie_id').custom(async (id) => {\n    if (!id) {\n      throw 'movie_id must not be empty'\n    }\n    const movie = await Movie.query().findById(id)\n    if (!movie) {\n      throw 'Movie not found in DB'\n    }\n    return movie\n  })\n]\n"],"file":"comment.js"}